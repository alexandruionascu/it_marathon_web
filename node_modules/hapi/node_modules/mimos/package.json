{
  "name": "mimos",
  "description": "Mime database interface",
  "version": "3.0.3",
  "repository": {
    "type": "git",
    "url": "git://github.com/hapijs/mimos"
  },
  "main": "lib/index.js",
  "keywords": [
    "mime",
    "database",
    "content-type"
  ],
  "engines": {
    "node": ">=4.0.0"
  },
  "dependencies": {
    "hoek": "4.x.x",
    "mime-db": "1.x.x"
  },
  "devDependencies": {
    "code": "3.x.x",
    "lab": "10.x.x"
  },
  "scripts": {
    "test": "lab -m 5000 -t 100 -v -La code"
  },
  "license": "BSD-3-Clause",
  "readme": "#mimos\r\n\r\nMime database interface.\r\n\r\n[![Build Status](https://secure.travis-ci.org/hapijs/mimos.svg)](http://travis-ci.org/hapijs/mimos)\r\n[![Current Version](https://img.shields.io/npm/v/mimos.svg)](https://www.npmjs.com/package/mimos)\r\n\r\nLead Maintainer - [Adam Bretz](https://github.com/arb)\r\n\r\nMimos is a convenience class for retrieving mime information objects.\r\n\r\n## Usage\r\n\r\n### `new Mimos([options])`\r\n\r\nCreates a new Mimos object where:\r\n\r\n- `[options]` - an option object the following keys\r\n    - `[override]` - an object hash that is merged into the built in mime information specified [here](https://github.com/jshttp/mime-db). Each key value pair represents a single mime object. Each override value should follow this schema:\r\n        - `key` - the key is the lower-cased correct mime-type. (Ex. \"application/javascript\").\r\n        - `value` - the value should an object following the specifications outlined [here](https://github.com/jshttp/mime-db#data-structure). Additional values include:\r\n          - `type` - specify the `type` value of result objects, defaults to `key`. See the example below for more clarification.\r\n          - `predicate` - method with signature `function(mime)` when this mime type is found in the database, this function will run. This allows you make customizations to `mime` based on developer criteria.\r\n\r\n### `mimos.path(path)`\r\n\r\nReturns mime object where:\r\n\r\n- `path` path to file including the file extension. Uses the `extension` values of the mime objects for lookup.\r\n\r\n```js\r\nconst mimos = new Mimos();\r\nconst mime = mimos.path('/static/public/app.js');\r\n// mime\r\n/*\r\n{\r\n  source: 'iana',\r\n  charset: 'UTF-8',\r\n  compressible: true,\r\n  extensions: [ 'js' ],\r\n  type: 'application/javascript'\r\n}\r\n*/\r\n```\r\n\r\n### `mimos.type(type)`\r\n\r\nReturns mime object where:\r\n\r\n- `type` the content-type to find mime information about. Uses the `type` values of the mime objects for lookup.\r\n\r\n```js\r\nconst mimos = new Mimos();\r\nconst mime = mimos.type('text/plain');\r\n// mime\r\n/*\r\n{\r\n  source: 'iana',\r\n  compressible: true,\r\n  extensions: ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],\r\n  type: 'text/plain'\r\n}\r\n*/\r\n```\r\n\r\n### Override Example\r\n\r\nIn certain situations, it can be helpful to override the built in mime type information. The optional argument to the Mimos constructor is used to override and add mime information. Below is an example to help understand how this works.\r\n\r\n```js\r\n\r\nconst options = {\r\n    override: {\r\n        'node/module': {\r\n            source: 'iana',\r\n            compressible: true,\r\n            extensions: ['node', 'module', 'npm'],\r\n            type: 'node/module'\r\n        },\r\n        'application/javascript': {\r\n            source: 'iana',\r\n            charset: 'UTF-8',\r\n            compressible: true,\r\n            extensions: ['js', 'javascript'],\r\n            type: 'text/javascript'\r\n        },\r\n        'text/html': {\r\n            predicate: function(mime) {\r\n                if (someCondition) {\r\n                    mime.foo = 'test';\r\n                }\r\n                else {\r\n                    mime.foo = 'bar';\r\n                }\r\n                return mime;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst mimos = new Mimos(options);\r\nconsole.dir(mimos.path('./node_modules/mimos.module'));\r\n/*\r\n{\r\n  source: 'iana',\r\n  compressible: true,\r\n  extensions: ['node', 'module', 'npm'],\r\n  type: 'node/module'\r\n}\r\n*/\r\nconsole.dir(mimos.type('application/javascript'));\r\n/*\r\nNote: even though we asked for type 'application/javascript', the type value is 'text/javascript' because of the override. Always use the proper content-type for retrieval.\r\n{\r\n  source: 'iana',\r\n  charset: 'UTF-8',\r\n  compressible: true,\r\n  extensions: ['js', 'javascript'],\r\n  type: 'text/javascript'\r\n}\r\n*/\r\nconsole.dir(mimos.type('text/html'));\r\n/*\r\nsomeCondition is true:\r\n{\r\n  source: 'iana',\r\n  compressible: true,\r\n  extensions: ['html','htm'],\r\n  type: 'test/html',\r\n  foo: 'test'\r\n}\r\n\r\nsomeCondition is false:\r\n{\r\n  source: 'iana',\r\n  compressible: true,\r\n  extensions: ['html','htm'],\r\n  type: 'test/html',\r\n  foo: 'bar'\r\n}\r\n*/\r\n```\r\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/hapijs/mimos/issues"
  },
  "_id": "mimos@3.0.3",
  "_from": "mimos@3.0.3"
}
